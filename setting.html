<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Saleng Man - Settings</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600&amp;display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons+Round"
      rel="stylesheet"
    />
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: "#FD7014",
              secondary: "#393E46",
              darkbg: "#222831",
              lightbg: "#EEEEEE",
              "background-light": "#EEEEEE",
              "background-dark": "#222831",
              "card-light": "#FFFFFF",
              "card-dark": "#393E46",
              "text-light": "#222831",
              "text-dark": "#EEEEEE",
            },
            fontFamily: {
              display: ["Kanit", "sans-serif"],
              body: ["Kanit", "sans-serif"],
            },
            borderRadius: {
              DEFAULT: "0.5rem",
              xl: "1rem",
              "2xl": "1.5rem",
            },
          },
        },
      };
    </script>
    <style>
      body {
        font-family: "Kanit", sans-serif;
      }
      .no-scrollbar::-webkit-scrollbar {
        display: none;
      }
      .no-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
      .toggle-checkbox {
        top: 2px;
        left: 2px;
        transition: transform 0.3s ease, background-color 0.3s ease, border-color 0.3s ease;
      }
      .toggle-checkbox:checked {
        transform: translateX(24px);
        border-color: #FD7014;
        background-color: #FD7014;
      }
      .toggle-checkbox:checked + .toggle-label {
        background-color: #FD7014;
      }
      .lang-btn.active {
        background-color: #FD7014;
        color: white;
        border-color: #FD7014;
      }
    </style>
    <style>
      body {
        min-height: max(884px, 100dvh);
      }
    </style>
  </head>
  <body
    class="bg-background-light dark:bg-background-dark text-text-light dark:text-text-dark min-h-screen flex justify-center items-center p-4 font-display transition-colors duration-300"
  >
    <div
      class="w-full max-w-[375px] h-[812px] bg-background-light dark:bg-background-dark rounded-[40px] border-8 border-gray-200 dark:border-card-dark shadow-2xl relative flex flex-col overflow-hidden"
    >
      <div
        class="absolute top-0 w-full h-12 flex justify-between items-center px-6 z-50 bg-background-light dark:bg-background-dark text-gray-800 dark:text-gray-200 text-sm font-medium"
      >
        <span>9:41</span>
        <div class="flex gap-1.5 items-center">
          <span class="material-icons-round text-base">signal_cellular_alt</span>
          <span class="material-icons-round text-base">wifi</span>
          <span class="material-icons-round text-base">battery_full</span>
        </div>
      </div>
      <header
        class="pt-12 pb-6 px-6 flex justify-between items-center sticky top-0 z-10 bg-background-light/90 dark:bg-background-dark/90 backdrop-blur-sm"
      >
        <div class="flex items-center gap-3">
          <a href="account.html" class="text-secondary dark:text-gray-300 hover:text-primary transition-colors">
            <span class="material-icons-round text-3xl">arrow_back</span>
          </a>
          <h1 id="settings-title" class="text-2xl font-semibold tracking-wide text-primary">
            Settings
          </h1>
        </div>
      </header>
      <main class="flex-1 px-6 pb-24 overflow-y-auto no-scrollbar">
        <div class="space-y-6">
          <!-- Appearance Section -->
          <div class="space-y-4">
            <h2 id="appearance-label" class="text-sm text-gray-500 dark:text-gray-400 uppercase font-medium px-1">
              Appearance
            </h2>
            <div
              class="bg-card-light dark:bg-card-dark p-4 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 flex items-center gap-4 transition-colors"
            >
              <div class="bg-primary/10 p-2 rounded-lg text-primary">
                <span class="material-icons-round dark:hidden">dark_mode</span>
                <span class="material-icons-round hidden dark:block">light_mode</span>
              </div>
              <div class="flex-1">
                <p id="dark-mode-label" class="font-medium text-lg">Dark Mode</p>
                <p id="dark-mode-desc" class="text-xs text-gray-500 dark:text-gray-400">
                  Switch between light and dark theme
                </p>
              </div>
              <div class="relative">
                <input
                  type="checkbox"
                  id="theme-toggle"
                  class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 border-gray-300 appearance-none cursor-pointer"
                />
                <label
                  for="theme-toggle"
                  class="toggle-label block overflow-hidden h-8 w-14 rounded-full bg-gray-300 cursor-pointer transition-colors duration-300"
                ></label>
              </div>
            </div>
          </div>

          <!-- Language Section -->
          <div class="space-y-4">
            <h2 id="language-section-label" class="text-sm text-gray-500 dark:text-gray-400 uppercase font-medium px-1">
              Language
            </h2>
            <div
              class="bg-card-light dark:bg-card-dark p-4 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 transition-colors"
            >
              <div class="flex items-center gap-4 mb-4">
                <div class="bg-primary/10 p-2 rounded-lg text-primary">
                  <span class="material-icons-round">translate</span>
                </div>
                <div class="flex-1">
                  <p id="language-label" class="font-medium text-lg">Language</p>
                  <p id="language-desc" class="text-xs text-gray-500 dark:text-gray-400">
                    Choose your preferred language
                  </p>
                </div>
              </div>
              <div class="flex gap-3">
                <button
                  id="lang-en"
                  onclick="changeLanguage('en')"
                  class="lang-btn flex-1 py-3 px-4 rounded-xl border-2 border-gray-300 dark:border-gray-600 font-medium transition-all hover:border-primary flex items-center justify-center gap-2"
                >
                  <span class="text-lg">EN</span>
                  <span id="lang-en-text">English</span>
                </button>
                <button
                  id="lang-th"
                  onclick="changeLanguage('th')"
                  class="lang-btn flex-1 py-3 px-4 rounded-xl border-2 border-gray-300 dark:border-gray-600 font-medium transition-all hover:border-primary flex items-center justify-center gap-2"
                >
                  <span class="text-lg">TH</span>
                  <span id="lang-th-text">Thai</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </main>
      <nav
        class="absolute bottom-0 w-full bg-card-light dark:bg-card-dark border-t border-gray-200 dark:border-gray-700 py-3 px-6 pb-6 flex justify-between items-center z-20 shadow-[0_-5px_15px_rgba(0,0,0,0.05)]"
      >
        <a
          class="flex flex-col items-center gap-1 group w-16"
          href="homescreen.html"
        >
          <span
            class="material-icons-round text-gray-400 group-hover:text-primary transition-colors text-3xl"
            >home</span
          >
          <span id="nav-home"
            class="text-[10px] text-gray-400 group-hover:text-primary font-medium"
            >Home</span
          >
        </a>
        <a
          class="flex flex-col items-center gap-1 group w-16"
          href="orders/history.html"
        >
          <span
            class="material-icons-round text-gray-400 group-hover:text-primary transition-colors text-3xl"
            >receipt_long</span
          >
          <span id="nav-history"
            class="text-[10px] text-gray-400 group-hover:text-primary font-medium"
            >History</span
          >
        </a>
        <a
          class="flex flex-col items-center gap-1 group w-16"
          href="notification.html"
        >
          <div class="relative">
            <span
              class="material-icons-round text-gray-400 group-hover:text-primary transition-colors text-3xl"
              >notifications</span
            >
            <span
              class="absolute top-0 right-0 h-3 w-3 bg-red-500 rounded-full border-2 border-card-light dark:border-card-dark"
            ></span>
          </div>
          <span id="nav-notify"
            class="text-[10px] text-gray-400 group-hover:text-primary font-medium"
            >Notify</span
          >
        </a>
        <a
          class="flex flex-col items-center gap-1 group w-16"
          href="account.html"
        >
          <span
            class="material-icons-round text-gray-400 group-hover:text-primary transition-colors text-3xl"
            >account_circle</span
          >
          <span id="nav-account" class="text-[10px] text-gray-400 group-hover:text-primary font-medium">Account</span>
        </a>
      </nav>
    </div>

    <script src="language.js"></script>
    <script>
      // Theme toggle functionality
      (function() {
        const toggle = document.getElementById('theme-toggle');

        // Initialize state
        const savedTheme = localStorage.getItem('theme');
        const systemPrefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
        const isDark = savedTheme === 'dark' || (!savedTheme && systemPrefersDark);

        if (isDark) {
          document.documentElement.classList.add('dark');
          toggle.checked = true;
        } else {
          document.documentElement.classList.remove('dark');
          toggle.checked = false;
        }

        // Handle toggle change
        toggle.addEventListener('change', function() {
          if (this.checked) {
            document.documentElement.classList.add('dark');
            localStorage.setItem('theme', 'dark');
          } else {
            document.documentElement.classList.remove('dark');
            localStorage.setItem('theme', 'light');
          }
        });
      })();

      // Language functionality
      const translations = {
        en: {
          'settings-title': 'Settings',
          'appearance-label': 'Appearance',
          'dark-mode-label': 'Dark Mode',
          'dark-mode-desc': 'Switch between light and dark theme',
          'language-section-label': 'Language',
          'language-label': 'Language',
          'language-desc': 'Choose your preferred language',
          'lang-en-text': 'English',
          'lang-th-text': 'Thai',
          'nav-home': 'Home',
          'nav-history': 'History',
          'nav-notify': 'Notify',
          'nav-account': 'Account'
        },
        th: {
          'settings-title': 'ตั้งค่า',
          'appearance-label': 'การแสดงผล',
          'dark-mode-label': 'โหมดมืด',
          'dark-mode-desc': 'สลับระหว่างธีมสว่างและมืด',
          'language-section-label': 'ภาษา',
          'language-label': 'ภาษา',
          'language-desc': 'เลือกภาษาที่คุณต้องการ',
          'lang-en-text': 'อังกฤษ',
          'lang-th-text': 'ไทย',
          'nav-home': 'หน้าแรก',
          'nav-history': 'ประวัติ',
          'nav-notify': 'แจ้งเตือน',
          'nav-account': 'บัญชี'
        }
      };

      function changeLanguage(lang) {
        localStorage.setItem('language', lang);
        applyLanguage(lang);

        // Also update global language system
        if (window.LanguageSystem) {
          window.LanguageSystem.setLanguage(lang);
        }
      }

      function applyLanguage(lang) {
        // Update button states
        document.getElementById('lang-en').classList.toggle('active', lang === 'en');
        document.getElementById('lang-th').classList.toggle('active', lang === 'th');

        // Update text content
        const dict = translations[lang];
        for (const [id, text] of Object.entries(dict)) {
          const el = document.getElementById(id);
          if (el) {
            el.textContent = text;
          }
        }
      }

      // Initialize language on page load
      (function() {
        const savedLang = localStorage.getItem('language') || 'en';
        applyLanguage(savedLang);
      })();
    </script>
  </body>
</html>
